
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://github.com/Harry-CunXiang/itaa-markdown.git/Architectural%20Decisions/architecturaldecision_ryyDx_oEcxzo_rJcFBkpqi/" rel="canonical"/>
<link href="../../assets/ca.svg" rel="icon"/>
<meta content="mkdocs-1.3.1, mkdocs-material-8.4.2" name="generator"/>
<title>Active-Active - Custom Compliance Platform - CCP</title>
<link href="../../assets/stylesheets/main.69437709.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<meta content="#000000" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
<link href="../../extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>html.glightbox-open { overflow: initial; height: 100%; }</style><script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="red" data-md-color-primary="black" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#ad-019">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Custom Compliance Platform - CCP" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Custom Compliance Platform - CCP">
<img alt="logo" src="../../assets/ca.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Custom Compliance Platform - CCP
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Active-Active
            
          </span>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Custom Compliance Platform - CCP" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Custom Compliance Platform - CCP">
<img alt="logo" src="../../assets/ca.svg"/>
</a>
    Custom Compliance Platform - CCP
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1">
          Table of Content
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Table of Content" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Table of Content
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        0. Information
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2" id="__nav_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_2">
          2. Scope
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="2. Scope" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_2">
<span class="md-nav__icon md-icon"></span>
          2. Scope
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../System%20Context/">
        2.2 System Context
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3" id="__nav_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3">
          5. Architecture
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5. Architecture" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_3">
<span class="md-nav__icon md-icon"></span>
          5. Architecture
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_1" id="__nav_1_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_1">
          5.1 Architecture Overview
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.1 Architecture Overview" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_1">
<span class="md-nav__icon md-icon"></span>
          5.1 Architecture Overview
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_1_1" id="__nav_1_3_1_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_1_1">
          5.1.3 IT System View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.1.3 IT System View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_1_1">
<span class="md-nav__icon md-icon"></span>
          5.1.3 IT System View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../IT%20System%20View/aoditsystem_H1n0lujN5lGj_rJcFBkpqi/">
        Architecture Overview - Landscape
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_2" id="__nav_1_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_2">
          5.2 Architectural Decisions
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.2 Architectural Decisions" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_2">
<span class="md-nav__icon md-icon"></span>
          5.2 Architectural Decisions
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_BklNedsV9xfi_rJcFBkpqi/">
        App Connect Deployment Strategy
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_r1Q4gOiEqefo_rJcFBkpqi/">
        App Connect Data Layer Addition (Cloudant + COS)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_r1U4xOjE5eMs_rJcFBkpqi/">
        App Connect Kafka vs. MQ Support For Logging Optimization (Kafka Standard) - Compare With MQ In The Cloud Pak
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_BkKVldjEclMo_rJcFBkpqi/">
        Multi-Tenant Support In ODM Decision Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HyA4guoE5lMj_rJcFBkpqi/">
        Multi-Tenant Support In Object Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_ByMHxdiN5gGi_rJcFBkpqi/">
        ODM Decision Services Input
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HJUBgOo4cgGo_rJcFBkpqi/">
        Shipment Object Stored In Db With Only Links To Master Data
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_ryDrxuo45lfj_rJcFBkpqi/">
        Manually Set Events
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_H1urluiNqxGi_rJcFBkpqi/">
        Post &amp; Subscribe Events APIs Design
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_SkiHedsEclzj_rJcFBkpqi/">
        Subscription And Notifications Handlers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HyRrgdjV9xGj_rJcFBkpqi/">
        Post Events APIs Design
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_SymIxOiN9efj_rJcFBkpqi/">
        App Connect Alternatives
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_SJ8Ug_i49gGs_rJcFBkpqi/">
        Retrieve HTS Codes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HJwIgOoE5xfi_rJcFBkpqi/">
        DB2 High Availability
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_Hyq8eusVqefj_rJcFBkpqi/">
        Context data to be sent in the payload of the notification events
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_BJnLgujE5xGo_rJcFBkpqi/">
        Implement Pub-Sub Pattern
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Active-Active
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Active-Active
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary __page_structure">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_page" id="__nav_page" type="checkbox"/>
<label class="md-nav__title md-nav__link page_structure" for="__nav_page" id="__label_nav_page">
      On This Page
      <span class="md-nav__icon md-icon" style="display: block;"></span>
</label>

<ul class="md-nav__list __list_nav_page" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#name">
    Name
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#status">
    Status
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#last-update">
    Last Update
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subject-area">
    Subject Area
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#topic">
    Topic
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-or-problem-statement">
    Issue or Problem Statement
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#assumptions">
    Assumptions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#motivation">
    Motivation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notes">
    Notes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternatives">
    Alternatives
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#decision">
    Decision
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#justification">
    Justification
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#implications">
    Implications
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#derived-requirements">
    Derived Requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#related-decisions">
    Related Decisions
  </a>
</li>
</ul>
</nav>
<script>
  var expand = document.getElementById('__nav_page');
  var btn = document.getElementById('__label_nav_page');
  var page = document.getElementsByClassName('__page_structure');
  var list = document.getElementsByClassName('__list_nav_page');
  if(expand){
    expand.oninput = function () {
      if (expand.checked) {
        page[1].classList.remove('collapsed');
        // list[1].classList.remove('collapsed');
      }
      else {
        page[1].classList.add('collapsed');
        // list[1].classList.add('collapsed');
      }
    }
  }
  
</script>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_S1VDluoE5gfo_rJcFBkpqi/">
        API Connect upgrade - gateway selection
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HkDPguoEcgzj_rJcFBkpqi/">
        APIC Upgrade process
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_H15vgdsE9xfj_rJcFBkpqi/">
        API Connect upgrade environment selection
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_rJk_gOsEqeGs_rJcFBkpqi/">
        Event Streams &amp; IKS Elasticity
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_SyghQYoSXs_rJcFBkpqi/">
        ODM multi-tenancy
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_H1exLtTD7s_rJcFBkpqi/">
        Event Streams &amp; IKS Micro Services Elasticity
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_S1eaz5oqcs_rJcFBkpqi/">
        Cloud Foundry Alternative For CCP Frontend
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_3" id="__nav_1_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_3">
          5.3 Component Model
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.3 Component Model" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_3">
<span class="md-nav__icon md-icon"></span>
          5.3 Component Model
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_3_1" id="__nav_1_3_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_3_1">
          5.3.1 Static View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.3.1 Static View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_3_1">
<span class="md-nav__icon md-icon"></span>
          5.3.1 Static View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Static%20View/cmstaticview_Bkh5xuoE5ezo_rJcFBkpqi/">
        Component Overview
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_3_2" id="__nav_1_3_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_3_2">
          5.3.2 Sequence View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.3.2 Sequence View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_3_2">
<span class="md-nav__icon md-icon"></span>
          5.3.2 Sequence View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Sequence%20View/cmdynamicview_Hkn2e_oE5ezo_rJcFBkpqi/">
        Update CCP With Integration Correlation Id
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_4" id="__nav_1_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_4">
          5.4 Operational Model
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.4 Operational Model" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_4">
<span class="md-nav__icon md-icon"></span>
          5.4 Operational Model
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_4_1" id="__nav_1_3_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_4_1">
          5.4.1 Logical Operational View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.4.1 Logical Operational View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_4_1">
<span class="md-nav__icon md-icon"></span>
          5.4.1 Logical Operational View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logical%20Operational%20View/lomview_BkV_guiVqgGi_rJcFBkpqi/">
        CCP LOM
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_4_2" id="__nav_1_3_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_4_2">
          5.4.2 Prescribed Operational View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.4.2 Prescribed Operational View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_4_2">
<span class="md-nav__icon md-icon"></span>
          5.4.2 Prescribed Operational View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Prescribed%20Operational%20View/pomview_H1F2xOiVcxMj_rJcFBkpqi/">
        POC
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" id="__nav_1_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_4">
          6. RAID
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="6. RAID" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_4">
<span class="md-nav__icon md-icon"></span>
          6. RAID
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4_1" id="__nav_1_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_4_1">
          6.1 Risks
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="6.1 Risks" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_4_1">
<span class="md-nav__icon md-icon"></span>
          6.1 Risks
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Risks/risk_S1lbt-2BXs_rJcFBkpqi/">
        R-001 Reusing ODM subscription for multi-tenants
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary __page_structure">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_page" id="__nav_page" type="checkbox"/>
<label class="md-nav__title md-nav__link page_structure" for="__nav_page" id="__label_nav_page">
      On This Page
      <span class="md-nav__icon md-icon" style="display: block;"></span>
</label>

<ul class="md-nav__list __list_nav_page" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#name">
    Name
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#status">
    Status
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#last-update">
    Last Update
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subject-area">
    Subject Area
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#topic">
    Topic
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-or-problem-statement">
    Issue or Problem Statement
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#assumptions">
    Assumptions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#motivation">
    Motivation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notes">
    Notes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternatives">
    Alternatives
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#decision">
    Decision
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#justification">
    Justification
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#implications">
    Implications
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#derived-requirements">
    Derived Requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#related-decisions">
    Related Decisions
  </a>
</li>
</ul>
</nav>
<script>
  var expand = document.getElementById('__nav_page');
  var btn = document.getElementById('__label_nav_page');
  var page = document.getElementsByClassName('__page_structure');
  var list = document.getElementsByClassName('__list_nav_page');
  if(expand){
    expand.oninput = function () {
      if (expand.checked) {
        page[1].classList.remove('collapsed');
        // list[1].classList.remove('collapsed');
      }
      else {
        page[1].classList.add('collapsed');
        // list[1].classList.add('collapsed');
      }
    }
  }
  
</script>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="ad-019">AD-019<a class="headerlink" href="#ad-019" title="Permanent link">¶</a></h1>
<h3 id="name">Name<a class="headerlink" href="#name" title="Permanent link">¶</a></h3>
<p>Active-Active</p>
<h3 id="status">Status<a class="headerlink" href="#status" title="Permanent link">¶</a></h3>
<p>proposed</p>
<h3 id="last-update">Last Update<a class="headerlink" href="#last-update" title="Permanent link">¶</a></h3>
<p>2022-05-30</p>
<h3 id="subject-area">Subject Area<a class="headerlink" href="#subject-area" title="Permanent link">¶</a></h3>
<p>All application layers and load balancers</p>
<h3 id="topic">Topic<a class="headerlink" href="#topic" title="Permanent link">¶</a></h3>
<p>Active-Active</p>
<h3 id="issue-or-problem-statement">Issue or Problem Statement<a class="headerlink" href="#issue-or-problem-statement" title="Permanent link">¶</a></h3>
<p>Active-Active for High availability for all application layers</p>
<h3 id="assumptions">Assumptions<a class="headerlink" href="#assumptions" title="Permanent link">¶</a></h3>
<h3 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">¶</a></h3>
<h3 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">¶</a></h3>
<p><a class="md-button same-line" href="#">Expand all</a></p>
<h3 id="alternatives">Alternatives<a class="headerlink" href="#alternatives" title="Permanent link">¶</a></h3>
<details>
<summary>Region Affinity - Approach 3 - using CIS</summary>
<table>
<caption></caption>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tr>
<td> <strong>Name</strong> </td>
<td>Region Affinity - Approach 3 - using CIS</td>
</tr>
<tr>
<td> <strong>Description</strong> </td>
<td>Diagram to be added</td>
</tr>
<tr>
<td> <strong>Best Applied</strong> </td>
<td>- Disaster situation: LB to switch to the other region  without restarting Filing Handler</td>
</tr>
<tr>
<td> <strong>Contraindications</strong> </td>
<td>- two CIS LBs instead of one.. two integration points (one for each region)
<div>- BE configuration will point to two endpoints
</div><div>- APP Connect configuration impacted needs separate endpoints for FRK and LON
</div><div><br/></div></td>
</tr>
</table>
</details>
<details>
<summary>Region affinity - Approach 1 - using single endpoint</summary>
<table>
<caption></caption>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tr>
<td> <strong>Name</strong> </td>
<td>Region affinity - Approach 1 - using single endpoint</td>
</tr>
<tr>
<td> <strong>Description</strong> </td>
<td>CCS flow starting point is from API Connect calls. Whether the call is triggered from Integration layer or Front end, we need to make sure that once the BE receives the call in a certain region --&gt; the whole flow should continue in the same region.<div><br/></div><div>Approach:</div><div>- One single domain CIS</div><div>- two citrix LB - one in FRK and one in LON</div><div>- When CIS receives the request, it should route the request to either Citrix FRK or Citrix LON based on the caller region</div><div>- Citrix FRK will send the calls to ODM FRK and Citrix LON will send the calls to ODM LON</div><div><br/></div></td>
</tr>
<tr>
<td> <strong>Best Applied</strong> </td>
<td><div>- One endpoint without separating endpoints for different regions</div><div>- No network latency as all calls will be on the same region</div></td>
</tr>
<tr>
<td> <strong>Contraindications</strong> </td>
<td> - Difficulty in implementation. When CIS receives the request, it doesn't know the region of the caller. A ticket will be created with IBM Cloud support  to investigate further. Could be through edge functions, or checking header parameters that are pre-calculated by cloudflare CIS<div>- Citrix is not needed. We could have only CIB that routes the requests to ODM FRK or LON. However, due to cloudflare issues than occur when CIS is configured to call different ODM domains --&gt; Citrix is required as a workaround. If cloudflare issue is resolved --&gt; Citrix could be removed from this </div></td>
</tr>
</table>
</details>
<details>
<summary>Region affinity - Approach 2 - two endpoints using citrix</summary>
<table>
<caption></caption>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tr>
<td> <strong>Name</strong> </td>
<td>Region affinity - Approach 2 - two endpoints using citrix</td>
</tr>
<tr>
<td> <strong>Description</strong> </td>
<td>CCS flow starting point is from API Connect calls. Whether the call is triggered from Integration layer or Front end, we need to make sure that once the BE receives the call in a certain region --&gt; the whole flow should continue in the same region.
<div>
</div><div>Approach:</div><div>- Two layers depending on CIS (acting as DNS and protection layer). CIS above citrix
</div><div>- FRK rill route to FRK, LON route to LON</div></td>
</tr>
<tr>
<td> <strong>Best Applied</strong> </td>
<td><div>
</div><div>- Request will continue in the same region - no latency</div><div>- Straight forward implementation</div></td>
</tr>
<tr>
<td> <strong>Contraindications</strong> </td>
<td>- separate endpoints that will need to be handled in the configuration of backend, interation<div>- Two endpoints for APIs shared with NIKE?</div></td>
</tr>
</table>
</details>
<details>
<summary>Switch round robin between the two ODM subscriptions</summary>
<table>
<caption></caption>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tr>
<td> <strong>Name</strong> </td>
<td>Switch round robin between the two ODM subscriptions</td>
</tr>
<tr>
<td> <strong>Description</strong> </td>
<td>Switch round robin between the two ODM subscriptions. Same applies for other CCS components</td>
</tr>
<tr>
<td> <strong>Best Applied</strong> </td>
<td>1. Easy and straight forward implementation</td>
</tr>
<tr>
<td> <strong>Contraindications</strong> </td>
<td>1. Latency between regions FRK &amp; LON<div>History: Last year black week tests results showed that there is network latency when the calls are triggered from FRK to ODM London. Based on this decision, we decided to depend mainly on the same region and keep the other region as backup.</div></td>
</tr>
</table>
</details>
<h3 id="decision">Decision<a class="headerlink" href="#decision" title="Permanent link">¶</a></h3>
<p>Region affinity - Approach 1 - using single endpoint</p>
<h3 id="justification">Justification<a class="headerlink" href="#justification" title="Permanent link">¶</a></h3>
<ul><li>If the flow started in FRK, it should continue in FRK. Same applies for LON</li></ul>
<div><br/></div>
<div>Notes:</div>
<div>1. CIS can't work on two regions at the same time due to the issues of CIS - different domain without changing page rule.
</div>
<div>Citrix doesn't have this issue and can route to different regions at the same time
</div>
<div>2. How to know the region to direct the call to the region.. not supported by GLB.. it must support routing policy but will not work with CIS
</div>
<div><br/></div>
<div><br/></div>
<div><br/></div>
<p><a class="glightbox" href="../../files/file_47d90d8dba35da2c.jpg"><img src="../../files/file_47d90d8dba35da2c.jpg" style="height:100px;"/></a></p>
<h3 id="implications">Implications<a class="headerlink" href="#implications" title="Permanent link">¶</a></h3>
<h3 id="derived-requirements">Derived Requirements<a class="headerlink" href="#derived-requirements" title="Permanent link">¶</a></h3>
<h3 id="related-decisions">Related Decisions<a class="headerlink" href="#related-decisions" title="Permanent link">¶</a></h3>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Implement Pub-Sub Pattern" class="md-footer__link md-footer__link--prev" href="../architecturaldecision_BJnLgujE5xGo_rJcFBkpqi/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Implement Pub-Sub Pattern
            </div>
</div>
</a>
<a aria-label="Next: API Connect upgrade - gateway selection" class="md-footer__link md-footer__link--next" href="../architecturaldecision_S1VDluoE5gfo_rJcFBkpqi/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              API Connect upgrade - gateway selection
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
<script src="../../extra.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "width": "100%", "height": "auto", "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom"});})</script></body>
</html>