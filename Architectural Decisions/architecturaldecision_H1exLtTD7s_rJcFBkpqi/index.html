
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://github.com/Harry-CunXiang/itaa-markdown.git/Architectural%20Decisions/architecturaldecision_H1exLtTD7s_rJcFBkpqi/" rel="canonical"/>
<link href="../../assets/ca.svg" rel="icon"/>
<meta content="mkdocs-1.3.1, mkdocs-material-8.4.2" name="generator"/>
<title>Event Streams &amp; IKS Micro Services Elasticity - Custom Compliance Platform - CCP</title>
<link href="../../assets/stylesheets/main.69437709.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<meta content="#000000" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
<link href="../../extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>html.glightbox-open { overflow: initial; height: 100%; }</style><script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="red" data-md-color-primary="black" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#ad-025">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Custom Compliance Platform - CCP" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Custom Compliance Platform - CCP">
<img alt="logo" src="../../assets/ca.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Custom Compliance Platform - CCP
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Event Streams &amp; IKS Micro Services Elasticity
            
          </span>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Custom Compliance Platform - CCP" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Custom Compliance Platform - CCP">
<img alt="logo" src="../../assets/ca.svg"/>
</a>
    Custom Compliance Platform - CCP
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1">
          Table of Content
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Table of Content" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Table of Content
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        0. Information
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2" id="__nav_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_2">
          2. Scope
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="2. Scope" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_2">
<span class="md-nav__icon md-icon"></span>
          2. Scope
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../System%20Context/">
        2.2 System Context
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3" id="__nav_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3">
          5. Architecture
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5. Architecture" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_3">
<span class="md-nav__icon md-icon"></span>
          5. Architecture
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_1" id="__nav_1_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_1">
          5.1 Architecture Overview
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.1 Architecture Overview" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_1">
<span class="md-nav__icon md-icon"></span>
          5.1 Architecture Overview
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_1_1" id="__nav_1_3_1_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_1_1">
          5.1.3 IT System View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.1.3 IT System View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_1_1">
<span class="md-nav__icon md-icon"></span>
          5.1.3 IT System View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../IT%20System%20View/aoditsystem_H1n0lujN5lGj_rJcFBkpqi/">
        Architecture Overview - Landscape
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_2" id="__nav_1_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_2">
          5.2 Architectural Decisions
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.2 Architectural Decisions" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_2">
<span class="md-nav__icon md-icon"></span>
          5.2 Architectural Decisions
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_BklNedsV9xfi_rJcFBkpqi/">
        App Connect Deployment Strategy
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_r1Q4gOiEqefo_rJcFBkpqi/">
        App Connect Data Layer Addition (Cloudant + COS)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_r1U4xOjE5eMs_rJcFBkpqi/">
        App Connect Kafka vs. MQ Support For Logging Optimization (Kafka Standard) - Compare With MQ In The Cloud Pak
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_BkKVldjEclMo_rJcFBkpqi/">
        Multi-Tenant Support In ODM Decision Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HyA4guoE5lMj_rJcFBkpqi/">
        Multi-Tenant Support In Object Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_ByMHxdiN5gGi_rJcFBkpqi/">
        ODM Decision Services Input
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HJUBgOo4cgGo_rJcFBkpqi/">
        Shipment Object Stored In Db With Only Links To Master Data
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_ryDrxuo45lfj_rJcFBkpqi/">
        Manually Set Events
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_H1urluiNqxGi_rJcFBkpqi/">
        Post &amp; Subscribe Events APIs Design
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_SkiHedsEclzj_rJcFBkpqi/">
        Subscription And Notifications Handlers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HyRrgdjV9xGj_rJcFBkpqi/">
        Post Events APIs Design
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_SymIxOiN9efj_rJcFBkpqi/">
        App Connect Alternatives
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_SJ8Ug_i49gGs_rJcFBkpqi/">
        Retrieve HTS Codes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HJwIgOoE5xfi_rJcFBkpqi/">
        DB2 High Availability
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_Hyq8eusVqefj_rJcFBkpqi/">
        Context data to be sent in the payload of the notification events
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_BJnLgujE5xGo_rJcFBkpqi/">
        Implement Pub-Sub Pattern
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_ryyDx_oEcxzo_rJcFBkpqi/">
        Active-Active
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_S1VDluoE5gfo_rJcFBkpqi/">
        API Connect upgrade - gateway selection
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_HkDPguoEcgzj_rJcFBkpqi/">
        APIC Upgrade process
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_H15vgdsE9xfj_rJcFBkpqi/">
        API Connect upgrade environment selection
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_rJk_gOsEqeGs_rJcFBkpqi/">
        Event Streams &amp; IKS Elasticity
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_SyghQYoSXs_rJcFBkpqi/">
        ODM multi-tenancy
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Event Streams &amp; IKS Micro Services Elasticity
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Event Streams &amp; IKS Micro Services Elasticity
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary __page_structure">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_page" id="__nav_page" type="checkbox"/>
<label class="md-nav__title md-nav__link page_structure" for="__nav_page" id="__label_nav_page">
      On This Page
      <span class="md-nav__icon md-icon" style="display: block;"></span>
</label>

<ul class="md-nav__list __list_nav_page" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#name">
    Name
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#status">
    Status
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#last-update">
    Last Update
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subject-area">
    Subject Area
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#topic">
    Topic
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-or-problem-statement">
    Issue or Problem Statement
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#assumptions">
    Assumptions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#motivation">
    Motivation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notes">
    Notes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternatives">
    Alternatives
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#decision">
    Decision
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#justification">
    Justification
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#implications">
    Implications
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#derived-requirements">
    Derived Requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#related-decisions">
    Related Decisions
  </a>
</li>
</ul>
</nav>
<script>
  var expand = document.getElementById('__nav_page');
  var btn = document.getElementById('__label_nav_page');
  var page = document.getElementsByClassName('__page_structure');
  var list = document.getElementsByClassName('__list_nav_page');
  if(expand){
    expand.oninput = function () {
      if (expand.checked) {
        page[1].classList.remove('collapsed');
        // list[1].classList.remove('collapsed');
      }
      else {
        page[1].classList.add('collapsed');
        // list[1].classList.add('collapsed');
      }
    }
  }
  
</script>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecturaldecision_S1eaz5oqcs_rJcFBkpqi/">
        Cloud Foundry Alternative For CCP Frontend
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_3" id="__nav_1_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_3">
          5.3 Component Model
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.3 Component Model" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_3">
<span class="md-nav__icon md-icon"></span>
          5.3 Component Model
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_3_1" id="__nav_1_3_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_3_1">
          5.3.1 Static View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.3.1 Static View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_3_1">
<span class="md-nav__icon md-icon"></span>
          5.3.1 Static View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Static%20View/cmstaticview_Bkh5xuoE5ezo_rJcFBkpqi/">
        Component Overview
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_3_2" id="__nav_1_3_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_3_2">
          5.3.2 Sequence View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.3.2 Sequence View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_3_2">
<span class="md-nav__icon md-icon"></span>
          5.3.2 Sequence View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Sequence%20View/cmdynamicview_Hkn2e_oE5ezo_rJcFBkpqi/">
        Update CCP With Integration Correlation Id
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_4" id="__nav_1_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_4">
          5.4 Operational Model
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.4 Operational Model" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_3_4">
<span class="md-nav__icon md-icon"></span>
          5.4 Operational Model
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_4_1" id="__nav_1_3_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_4_1">
          5.4.1 Logical Operational View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.4.1 Logical Operational View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_4_1">
<span class="md-nav__icon md-icon"></span>
          5.4.1 Logical Operational View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logical%20Operational%20View/lomview_BkV_guiVqgGi_rJcFBkpqi/">
        CCP LOM
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3_4_2" id="__nav_1_3_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_3_4_2">
          5.4.2 Prescribed Operational View
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5.4.2 Prescribed Operational View" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_1_3_4_2">
<span class="md-nav__icon md-icon"></span>
          5.4.2 Prescribed Operational View
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Prescribed%20Operational%20View/pomview_H1F2xOiVcxMj_rJcFBkpqi/">
        POC
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" id="__nav_1_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_4">
          6. RAID
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="6. RAID" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_1_4">
<span class="md-nav__icon md-icon"></span>
          6. RAID
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4_1" id="__nav_1_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1_4_1">
          6.1 Risks
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="6.1 Risks" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_1_4_1">
<span class="md-nav__icon md-icon"></span>
          6.1 Risks
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Risks/risk_S1lbt-2BXs_rJcFBkpqi/">
        R-001 Reusing ODM subscription for multi-tenants
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary __page_structure">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_page" id="__nav_page" type="checkbox"/>
<label class="md-nav__title md-nav__link page_structure" for="__nav_page" id="__label_nav_page">
      On This Page
      <span class="md-nav__icon md-icon" style="display: block;"></span>
</label>

<ul class="md-nav__list __list_nav_page" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#name">
    Name
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#status">
    Status
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#last-update">
    Last Update
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subject-area">
    Subject Area
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#topic">
    Topic
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-or-problem-statement">
    Issue or Problem Statement
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#assumptions">
    Assumptions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#motivation">
    Motivation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notes">
    Notes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternatives">
    Alternatives
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#decision">
    Decision
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#justification">
    Justification
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#implications">
    Implications
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#derived-requirements">
    Derived Requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#related-decisions">
    Related Decisions
  </a>
</li>
</ul>
</nav>
<script>
  var expand = document.getElementById('__nav_page');
  var btn = document.getElementById('__label_nav_page');
  var page = document.getElementsByClassName('__page_structure');
  var list = document.getElementsByClassName('__list_nav_page');
  if(expand){
    expand.oninput = function () {
      if (expand.checked) {
        page[1].classList.remove('collapsed');
        // list[1].classList.remove('collapsed');
      }
      else {
        page[1].classList.add('collapsed');
        // list[1].classList.add('collapsed');
      }
    }
  }
  
</script>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="ad-025">AD-025<a class="headerlink" href="#ad-025" title="Permanent link">¶</a></h1>
<h3 id="name">Name<a class="headerlink" href="#name" title="Permanent link">¶</a></h3>
<p>Event Streams &amp; IKS Micro Services Elasticity</p>
<h3 id="status">Status<a class="headerlink" href="#status" title="Permanent link">¶</a></h3>
<p>proposed</p>
<h3 id="last-update">Last Update<a class="headerlink" href="#last-update" title="Permanent link">¶</a></h3>
<h3 id="subject-area">Subject Area<a class="headerlink" href="#subject-area" title="Permanent link">¶</a></h3>
<p>Elasticity</p>
<h3 id="topic">Topic<a class="headerlink" href="#topic" title="Permanent link">¶</a></h3>
<h3 id="issue-or-problem-statement">Issue or Problem Statement<a class="headerlink" href="#issue-or-problem-statement" title="Permanent link">¶</a></h3>
<p>Need to address how the elasticity to scale up and scale down the event streams and Kubernetes environments that host the micro services will be addressed.</p>
<h3 id="assumptions">Assumptions<a class="headerlink" href="#assumptions" title="Permanent link">¶</a></h3>
<p>The micro services hosted on Kubernetes cluster need to be tied to specific event streams end point. If the end point changes the service pods need to be restarted.</p>
<h3 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">¶</a></h3>
<p>Scaling up and scaling down are currently manual process and need to be automated. There is a need to scale up the environment in several cases such as:<div><em> High traffic happen in the system<br/></em></div><div> In preparation of anticipated high work loads (e.g. Black week or Promotions).</div><div>* In case of moving the traffic to a lower capacity environment (e.g. Standby environment with partial capacity)</div><div><br/></div><div>Also the solution need to take into consideration the feasibility of scaling down again after there is no more need of the higher capacity environment.</div></p>
<h3 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">¶</a></h3>
<p><a class="md-button same-line" href="#">Expand all</a></p>
<h3 id="alternatives">Alternatives<a class="headerlink" href="#alternatives" title="Permanent link">¶</a></h3>
<details>
<summary>Scale Event Streams in a new Cluster and the IKS hosted Micro Services in a new Cluster</summary>
<table>
<caption></caption>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tr>
<td> <strong>Name</strong> </td>
<td>Scale Event Streams in a new Cluster and the IKS hosted Micro Services in a new Cluster</td>
</tr>
<tr>
<td> <strong>Description</strong> </td>
<td><div>In this alternative, the Event Streams upscaling will create its own event streams cluster. Also the Micro services will be scaled up by creating a new Kubernetes cluster. These newly created micro services will be pointing to the newly created events streams. Accordingly there will be groups of micro services cluster coupled with their event streams cluster.</div><div><ol><li>Create and configure a new Event Streams cluster</li><li>Create and configure a new Kubernetes cluster.</li><li>Create a new set of micro services on the Kubernetes cluster that point to the newly created event streams</li></ol>Configure the load balancer to utilize the new Kubernetes cluster.
</div><div><br/></div><div>In case of downscaling, the traffic coming to the micro services will be stopped. Accordingly after a while, all the events in the event stream cluster will be consumed. At this stage downscaling can be completed by decommissioning both the event streams cluster and the Kubernetes cluster that host the micro services.</div><div><ol><li>Stop the traffic to the newly created set of micro services by removing them from the load balancer.</li><li>Wait till all the events in the associated even streams cluster are consumed.</li><li>Delete the newly created Kubernetes cluster.</li><li>Delete the newly created event streams cluster.</li></ol></div><div><br/></div><div><a class="glightbox" href="../../files/file_d96c325b64ca843c.jpg"><img src="../../files/file_d96c325b64ca843c.jpg" style="height: 246px; width: 298px;"/></a><br/></div></td>
</tr>
<tr>
<td> <strong>Best Applied</strong> </td>
<td><div><ul><li>Downscaling will be simpler than other approaches.</li><li>This process can be repeated multiple times to get new clusters.</li><li>The upscaling can be done in another data center.</li><li>Better control over the capacity to be added for each cluster</li></ul></div></td>
</tr>
<tr>
<td> <strong>Contraindications</strong> </td>
<td><ul><li>Scaling up and down will be step wise according to the cluster granularity.</li><li>Have overhead for a new IKS cluster (Master nodes, ... etc.)</li></ul></td>
</tr>
</table>
</details>
<details>
<summary>Scale Event Streams in a new Cluster and the IKS hosted Micro Services in a the same Cluster</summary>
<table>
<caption></caption>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tr>
<td> <strong>Name</strong> </td>
<td>Scale Event Streams in a new Cluster and the IKS hosted Micro Services in a the same Cluster</td>
</tr>
<tr>
<td> <strong>Description</strong> </td>
<td><div>In this alternative, a new event streams cluster will be created. Also The existing Kubernetes cluster will be scaled horizontally by adding new worker nodes. After add the new worker nodes, a new set of the micro services will be created to point to the new event streams.</div><div><br/></div><div><ol><li>Create and configure a new Event Streams cluster</li><li>Add worker nodes to the Kubernetes cluster</li><li>Create a new set of micro services on the Kubernetes cluster that point to the newly created event streams</li><li>Add the new micro services to the load balancer</li></ol><div><br/></div><div>Downscaling will be achieved by stopping the traffic to the newly created micro services and when the associated events it their associated event stream cluster are consumed the process for downscaling will be completed by decommissioning the newly created event streams and then deleting the pods of the micro service that are using these event streams. At the end we can delete the worker nodes.</div><div><ol><li>Stop the traffic to the newly created set of micro services by removing them from the load balancer.</li><li>Wait till all the events in the associated even streams cluster are consumed.</li><li>Delete the newly created micro services</li><li>Delete the newly created event streams cluster</li><li>Delete the worker nodes from the Kubernetes cluster.</li></ol></div><div><br/></div><div><br/></div><div><br/></div><div><a class="glightbox" href="../../files/file_83b41884211cb882.jpg"><img src="../../files/file_83b41884211cb882.jpg" style="height: 292px; width: 381px;"/></a><br/></div></div></td>
</tr>
<tr>
<td> <strong>Best Applied</strong> </td>
<td><div><ul><li>Utilize the existing IKS cluster by using the same cluster management nodes</li></ul></div></td>
</tr>
<tr>
<td> <strong>Contraindications</strong> </td>
<td><ul><li>Splitting the traffic between the old and the new micro services could be challenging.</li><li>Can not be scaled up using another data center/region.</li></ul></td>
</tr>
</table>
</details>
<details>
<summary>Scale Event Streams independent of Kubernetes hosted Micro Services Using Existing Clusters</summary>
<table>
<caption></caption>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tr>
<td> <strong>Name</strong> </td>
<td>Scale Event Streams independent of Kubernetes hosted Micro Services Using Existing Clusters</td>
</tr>
<tr>
<td> <strong>Description</strong> </td>
<td><div><div>This alternative relies on the existing Kubernetes and Event Stream Clusters to scale up the environment</div><div><br/></div><div><br/></div><div>Up Scaling Steps</div><ol><li>Scale up the event streams cluster by requesting additional capacity and additional storage</li><li>Create a new set of Worker nodes/Worker pool in the Kubernetes cluster</li><li>Create a new set of the IKS micro services by increasing the number of Pods of the existing services</li></ol></div><div><br/></div><div><br/></div><div>Down Scaling steps:</div><div><ol><li>Create a new scaled down Event Streams cluster with a lower capacity<br/></li><li>Create a new set of Worker nodes/Worker pool in the Kubernetes cluster
</li><li>Create a new set of the IKS micro services to point to the new scaled down Event Streams cluster</li><li>Stop the traffic to the old micro services</li><li>Wait till all the events in the high spec Event Streams cluster is consumed</li><li>Delete the old micro services that use the high spec Event Streams cluster</li><li>Delete the high spec Event Streams cluster
</li><li>Scale the number of worker nodes in the Kubernetes cluster</li></ol></div><div><br/></div><div><br/></div><div><a class="glightbox" href="../../files/file_23ef79a76f77ad20.jpg"><img src="../../files/file_23ef79a76f77ad20.jpg" style="height: 418px; width: 337px;"/></a><br/></div></td>
</tr>
<tr>
<td> <strong>Best Applied</strong> </td>
<td><ul><li>Fast scaling in the same infrastructure</li></ul></td>
</tr>
<tr>
<td> <strong>Contraindications</strong> </td>
<td><ul><li>Scaling down is challenging</li><li>Can not be scaled up using another data center/region</li></ul></td>
</tr>
</table>
</details>
<h3 id="decision">Decision<a class="headerlink" href="#decision" title="Permanent link">¶</a></h3>
<p>Scale Event Streams in a new Cluster and the IKS hosted Micro Services in a the same Cluster</p>
<h3 id="justification">Justification<a class="headerlink" href="#justification" title="Permanent link">¶</a></h3>
<p>It will be feasible to scale down after there is no need to keep the scaled up event streams and IKS micro services.</p>
<h3 id="implications">Implications<a class="headerlink" href="#implications" title="Permanent link">¶</a></h3>
<p>Need to develop and test the scripts for upscaling and downscaling of both the Event Streams and the Kubernetes hosting the micro services.</p>
<h3 id="derived-requirements">Derived Requirements<a class="headerlink" href="#derived-requirements" title="Permanent link">¶</a></h3>
<h3 id="related-decisions">Related Decisions<a class="headerlink" href="#related-decisions" title="Permanent link">¶</a></h3>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: ODM multi-tenancy" class="md-footer__link md-footer__link--prev" href="../architecturaldecision_SyghQYoSXs_rJcFBkpqi/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              ODM multi-tenancy
            </div>
</div>
</a>
<a aria-label="Next: Cloud Foundry Alternative For CCP Frontend" class="md-footer__link md-footer__link--next" href="../architecturaldecision_S1eaz5oqcs_rJcFBkpqi/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Cloud Foundry Alternative For CCP Frontend
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
<script src="../../extra.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "width": "100%", "height": "auto", "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom"});})</script></body>
</html>